from utils require "l_permutation.jazz"

fn M3(reg u32 x_0, reg u32 y_0, reg u32 x_1, reg u32 y_1, reg u32 x_2, reg u32 y_2) -> reg u32 x_0, reg u32 y_0, reg u32 x_1, reg u32 y_1, reg u32 x_2, reg u32 y_2) {
  reg u32 t_X, t_y;

  t_x = x_0 ^ x_1;
  t_y = y_0 ^ y_1;

  t_x = l(t_x);
  t_y = l(t_y);

  x_0 ^= t_x;
  x_1 ^= t_x;

  y_0 ^= t_y;
  y_1 ^= t_y;

  return x_0, y_0, x_1, y_1, t_x, t_y;
}
